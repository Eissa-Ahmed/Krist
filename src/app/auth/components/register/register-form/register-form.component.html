<div
  class="vh-100 d-flex flex-column align-items-center justify-content-center"
>
  <p class="m-0 create">Create New Account</p>
  <p class="m-0 details">Please enter details</p>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" style="width: 70%">
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input
        formControlName="firstName"
        type="text"
        class="form-control"
        id="firstName"
      />
      <div
        *ngIf="
          getControl('firstName')?.touched && getControl('firstName')?.invalid
        "
      >
        @if(getControl('firstName')?.errors?.['minlength']) {
        <small class="text-danger"
          >First name must be at least 2 characters</small
        >
        } @if(getControl('firstName')?.errors?.['maxlength']) {
        <small class="text-danger"
          >First name must be at most 25 characters</small
        >
        }
      </div>
    </div>
    <div class="form-group mt-2">
      <label for="lastName">Last Name</label>
      <input
        formControlName="lastName"
        type="text"
        class="form-control"
        id="lastName"
      />
      <div
        *ngIf="
          getControl('lastName')?.touched && getControl('lastName')?.invalid
        "
      >
        @if(getControl('lastName')?.errors?.['minlength']) {
        <small class="text-danger"
          >Last name must be at least 2 characters</small
        >
        } @if(getControl('lastName')?.errors?.['maxlength']) {
        <small class="text-danger"
          >Last name must be at most 25 characters</small
        >
        }
      </div>
    </div>
    <div class="form-group mt-2">
      <label for="email">Email Address</label>
      <input
        formControlName="email"
        type="email"
        class="form-control"
        id="email"
      />
      <div *ngIf="getControl('email')?.touched && getControl('email')?.invalid">
        @if(getControl('email')?.errors?.['required']) {
        <small class="text-danger"> Email is required</small>
        } @if(getControl('email')?.errors?.['email']) {
        <small class="text-danger">Email is not valid</small>
        }
      </div>
    </div>
    <div class="form-group mt-2">
      <label for="password">Password</label>
      <input
        formControlName="password"
        type="password"
        class="form-control"
        id="password"
      />
      <div
        *ngIf="
          getControl('password')?.touched && getControl('password')?.invalid
        "
      >
        @if(getControl('password')?.errors?.['required']) {
        <small class="text-danger"> Password is required</small>
        } @if(getControl('password')?.errors?.['minlength']) {
        <small class="text-danger"
          >Password must be at least 6 characters</small
        >
        } @if(getControl('password')?.errors?.['maxlength']) {
        <small class="text-danger"
          >Password must be at most 25 characters</small
        >
        }
      </div>
    </div>
    <div class="form-group mt-2">
      <label for="confirmPassword">Confirm Password</label>
      <input
        formControlName="confirmPassword"
        type="password"
        class="form-control"
        id="confirmPassword"
      />
      <div
        *ngIf="registerForm.invalid &&
         registerForm.errors?.['passwordsNotMatch'] &&
          getControl('confirmPassword')?.touched"
      >
        <small class="text-danger"
          >Confirm password does not match with password</small
        >
      </div>
    </div>

    <div
      class="form-group my-2 d-flex justify-content-start align-items-center gap-2"
    >
      <input
        formControlName="checkbox"
        type="checkbox"
        id="rememberMe"
        name="rememberMe"
      />
      <label class="remember" for="rememberMe">I agree to the </label>
      <a id="terms" (click)="openTerms()">Terms & Conditions</a>
    </div>
    <button
      [disabled]="registerForm.invalid || isLoading()"
      type="submit"
      class="btn w-100 mt-4"
    >
      @if(isLoading()) {
      <i class="fa-solid fa-spinner fa-spin"></i>
      } @else{ Signup }
    </button>
  </form>
</div>
